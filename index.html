<!DOCTYPE html>
<html>
<head>
    <title>Generador de Post para Películas</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .container { display: flex; flex-direction: column; gap: 15px; }
        .group { border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 8px; margin-bottom: 10px; box-sizing: border-box; }
        button { padding: 10px 15px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        #preview { border: 1px solid #ddd; padding: 15px; background-color: #f9f9f9; }
        #bbcode { width: 100%; height: 200px; }
        .two-columns { display: flex; gap: 15px; }
        .two-columns > div { flex: 1; }
    </style>
</head>
<body>
    <h1>Generador de Post para Películas</h1>
    
    <div class="container">
        <div class="group">
            <h2>Información Básica</h2>
            <div class="two-columns">
                <div>
                    <label for="tmdbUrl">URL de TMDB (opcional):</label>
                    <input type="text" id="tmdbUrl" placeholder="https://www.themoviedb.org/movie/...">
                    <button id="fetchBtn">Buscar en TMDB</button>
                </div>
                <div>
                    <label for="posterUrl">URL del Póster (TMDB):</label>
                    <input type="text" id="posterUrl" placeholder="https://image.tmdb.org/t/p/original/...">
                </div>
            </div>
            
            <label for="titulo">Título de la película:</label>
            <input type="text" id="titulo" placeholder="Ej: George de la Selva">
            
            <label for="anio">Año:</label>
            <input type="number" id="anio" placeholder="Ej: 1997">
            
            <label for="tituloOriginal">Título original:</label>
            <input type="text" id="tituloOriginal" placeholder="Ej: George of the Jungle">
            
            <label for="pais">País:</label>
            <input type="text" id="pais" placeholder="Ej: Estados Unidos">
            
            <label for="duracion">Duración (minutos):</label>
            <input type="text" id="duracion" placeholder="Ej: 92 min">
            
            <label for="sinopsis">Sinopsis:</label>
            <textarea id="sinopsis" rows="4"></textarea>
        </div>
        
        <div class="group">
            <h2>Datos Técnicos</h2>
            <div class="two-columns">
                <div>
                    <label for="audios">Audios:</label>
                    <input type="text" id="audios" placeholder="Ej: Latino E-AC3 5.1 – Ingles E-AC3 5.1">
                    
                    <label for="subtitulos">Subtítulos:</label>
                    <input type="text" id="subtitulos" placeholder="Ej: Español">
                    
                    <label for="calidad">Calidad:</label>
                    <input type="text" id="calidad" placeholder="Ej: 1080p">
                </div>
                <div>
                    <label for="resolucion">Resolución:</label>
                    <input type="text" id="resolucion" placeholder="Ej: 1920×1080">
                    
                    <label for="formato">Formato:</label>
                    <input type="text" id="formato" placeholder="Ej: MKV">
                    
                    <label for="tamano">Tamaño:</label>
                    <input type="text" id="tamano" placeholder="Ej: 2.87 Gb">
                    
                    <label for="codec">Códec:</label>
                    <input type="text" id="codec" placeholder="Ej: H.264">
                </div>
            </div>
        </div>
        
        <div class="group">
            <h2>Enlaces y Capturas</h2>
            <label for="enlaces">Enlaces de descarga (uno por línea, formato "SERVICIO: URL"):</label>
            <textarea id="enlaces" rows="4" placeholder="Ej: MEGA: https://mega.nz/file/..."></textarea>
            
            <label for="capturas">URLs de capturas (una por línea):</label>
            <textarea id="capturas" rows="4" placeholder="Ej: https://iili.io/3uuS37e.png"></textarea>
        </div>
        
        <div class="group">
            <h2>Personalización</h2>
            <label for="autor">Nombre del autor/publicador:</label>
            <input type="text" id="autor" value="YeiEi">
            
            <label for="separador">URL del separador:</label>
            <input type="text" id="separador" value="https://www.identi.io/imgpost/Separadori.png">
            
            <label for="infoImg">URL de la imagen de info:</label>
            <input type="text" id="infoImg" value="https://www.identi.io/imgpost/info1.png">
            
            <label for="linksImg">URL de la imagen de links:</label>
            <input type="text" id="linksImg" value="https://www.identi.io/imgpost/links1.png">
        </div>
        
        <button id="generateBtn">Generar Código BBcode</button>
    </div>
    
    <h2>Vista Previa:</h2>
    <div id="preview"></div>
    
    <h2>Código BBcode Generado:</h2>
    <textarea id="bbcode" readonly></textarea>
    
    <script>
        document.getElementById('generateBtn').addEventListener('click', generateBBcode);
        document.getElementById('fetchBtn').addEventListener('click', fetchTMDB);
        
        function fetchTMDB() {
            const tmdbUrl = document.getElementById('tmdbUrl').value;
            if (!tmdbUrl) return;
            
            // Extraer el ID de la película de la URL
            const match = tmdbUrl.match(/movie\/(\d+)/);
            if (!match) {
                alert('URL de TMDB no válida');
                return;
            }
            
            const movieId = match[1];
            const apiKey = 'YOUR_TMDB_API_KEY'; // Necesitarías una API key de TMDB
            
            // En una implementación real, harías una llamada a la API de TMDB aquí
            alert('En una implementación real, esto buscaría la información de la película en TMDB. Necesitarías una API key.');
        }
        
        function generateBBcode() {
            const titulo = document.getElementById('titulo').value || 'Título no especificado';
            const anio = document.getElementById('anio').value || 'Año no especificado';
            const tituloOriginal = document.getElementById('tituloOriginal').value || 'Título original no especificado';
            const pais = document.getElementById('pais').value || 'País no especificado';
            const duracion = document.getElementById('duracion').value || 'Duración no especificada';
            const sinopsis = document.getElementById('sinopsis').value || 'Sinopsis no disponible.';
            
            const audios = document.getElementById('audios').value || 'Audio no especificado';
            const subtitulos = document.getElementById('subtitulos').value || 'Subtítulos no especificados';
            const calidad = document.getElementById('calidad').value || 'Calidad no especificada';
            const resolucion = document.getElementById('resolucion').value || 'Resolución no especificada';
            const formato = document.getElementById('formato').value || 'Formato no especificado';
            const tamano = document.getElementById('tamano').value || 'Tamaño no especificado';
            const codec = document.getElementById('codec').value || 'Códec no especificado';
            
            const enlacesText = document.getElementById('enlaces').value;
            const enlaces = enlacesText.split('\n').filter(line => line.trim());
            
            const capturasText = document.getElementById('capturas').value;
            const capturas = capturasText.split('\n').filter(line => line.trim());
            
            const autor = document.getElementById('autor').value || 'Autor no especificado';
            const separador = document.getElementById('separador').value;
            const infoImg = document.getElementById('infoImg').value;
            const linksImg = document.getElementById('linksImg').value;
            const posterUrl = document.getElementById('posterUrl').value;
            
            // Generar el BBcode
            let bbcode = `[center][b]${titulo} (${anio})[/b][/center]\n\n`;
            bbcode += `[center]Una presentación de calidad por [b]${autor}[/b] [/center]\n\n`;
            bbcode += `[center][img]${separador}[/img][/center]\n\n`;
            
            if (posterUrl) {
                bbcode += `[center][img]${posterUrl}[/img][/center]\n\n`;
            }
            
            bbcode += `[center][img]${infoImg}[/img][/center]\n\n`;
            bbcode += `[center]\n`;
            bbcode += `[b]Sinopsis:[/b]\n`;
            bbcode += `[i]${sinopsis}[/i]\n\n`;
            bbcode += `[hr]\n\n`;
            bbcode += `[b]Título original:[/b] ${tituloOriginal}\n`;
            bbcode += `[b]Año:[/b] ${anio}\n`;
            bbcode += `[b]Duración:[/b] ${duracion}\n`;
            bbcode += `[b]País:[/b] ${pais}\n\n`;
            bbcode += `[hr]\n\n`;
            bbcode += `[b]Audios:[/b] ${audios}\n`;
            bbcode += `[b]Subtítulos:[/b] ${subtitulos}\n`;
            bbcode += `[b]Calidad:[/b] ${calidad}\n`;
            bbcode += `[b]Resolución:[/b] ${resolucion}\n`;
            bbcode += `[b]Formato:[/b] ${formato}\n`;
            bbcode += `[b]Tamaño:[/b] ${tamano}\n`;
            bbcode += `[b]Códec:[/b] ${codec}\n\n`;
            bbcode += `[/center]\n\n`;
            
            // Añadir capturas
            capturas.forEach(captura => {
                bbcode += `[center][img]${captura}[/img][/center]\n\n`;
            });
            
            // Añadir enlaces
            bbcode += `[center][img]${linksImg}[/img][/center]\n\n`;
            bbcode += `[center][b] ENLACES DE DESCARGA:[/b][/center]\n\n`;
            bbcode += `[center][links]\n`;
            enlaces.forEach(enlace => {
                bbcode += `${enlace}\n`;
            });
            bbcode += `[/links][/center]\n\n`;
            bbcode += `[center][img]${separador}[/img][/center]\n\n`;
            bbcode += `[center][b] Publicación creada con estilo por ${autor} – ¡Disfrútala! [/b][/center]`;
            
            // Mostrar el resultado
            document.getElementById('bbcode').value = bbcode;
            document.getElementById('preview').innerHTML = bbcode
                .replace(/\[center\]/g, '<div style="text-align: center;">')
                .replace(/\[\/center\]/g, '</div>')
                .replace(/\[b\]/g, '<strong>')
                .replace(/\[\/b\]/g, '</strong>')
                .replace(/\[i\]/g, '<em>')
                .replace(/\[\/i\]/g, '</em>')
                .replace(/\[hr\]/g, '<hr>')
                .replace(/\[img\](\S+)\[\/img\]/g, '<img src="$1" style="max-width: 100%;">')
                .replace(/\[links\]/g, '<div style="background: #f0f0f0; padding: 10px; border-radius: 5px; margin: 10px 0;">')
                .replace(/\[\/links\]/g, '</div>')
                .replace(/\n/g, '<br>');
        }
    </script>
</body>
</html>
